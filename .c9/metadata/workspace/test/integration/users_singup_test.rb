{"filter":false,"title":"users_singup_test.rb","tooltip":"/test/integration/users_singup_test.rb","undoManager":{"mark":10,"position":10,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":25,"column":0},"end":{"row":25,"column":1}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":26,"column":1},"end":{"row":26,"column":2}},"text":"#"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":3,"column":0},"end":{"row":4,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":4,"column":0},"end":{"row":4,"column":11}},"text":"  def setup"},{"action":"insertText","range":{"start":{"row":4,"column":11},"end":{"row":5,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":5,"column":0},"end":{"row":6,"column":0}},"lines":["    ActionMailer::Base.deliveries.clear"]},{"action":"insertText","range":{"start":{"row":6,"column":0},"end":{"row":6,"column":5}},"text":"  end"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":6,"column":5},"end":{"row":7,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":7,"column":0},"end":{"row":7,"column":2}},"text":"  "}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":18,"column":0},"end":{"row":19,"column":0}},"nl":"\n","lines":["  test \"valid signup information\" do"]},{"action":"insertText","range":{"start":{"row":18,"column":0},"end":{"row":18,"column":60}},"text":"  test \"valid signup information with account activation\" do"},{"action":"insertText","range":{"start":{"row":18,"column":60},"end":{"row":19,"column":0}},"text":"\n"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":27,"column":0},"end":{"row":27,"column":77}},"text":"                                            password_confirmation: password }"},{"action":"removeLines","range":{"start":{"row":24,"column":0},"end":{"row":27,"column":0}},"nl":"\n","lines":["      post_via_redirect users_path, user: { name:  name,","                                            email: email,","                                            password:              password,"]},{"action":"removeText","range":{"start":{"row":23,"column":4},"end":{"row":23,"column":40}},"text":"assert_difference 'User.count', 1 do"},{"action":"removeText","range":{"start":{"row":23,"column":4},"end":{"row":24,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":23,"column":4},"end":{"row":23,"column":40}},"text":"assert_difference 'User.count', 1 do"},{"action":"insertText","range":{"start":{"row":23,"column":40},"end":{"row":24,"column":0}},"text":"\n"},{"action":"insertLines","range":{"start":{"row":24,"column":0},"end":{"row":46,"column":0}},"lines":["      post users_path, user: { name:  name,","                               email: email,","                               password:              password,","                               password_confirmation: password }","    end","    assert_equal 1, ActionMailer::Base.deliveries.size","    user = assigns(:user)","    assert_not user.activated?","    # Try to log in before activation.","    log_in_as(user)","    assert_not is_logged_in?","    # Invalid activation token","    get edit_account_activation_path(\"invalid token\")","    assert_not is_logged_in?","    # Valid token, wrong email","    get edit_account_activation_path(user.activation_token, email: 'wrong')","    assert_not is_logged_in?","    # Valid activation token","    get edit_account_activation_path(user.activation_token, email: user.email)","    assert user.reload.activated?","    follow_redirect!","    assert_template 'users/show'"]},{"action":"insertText","range":{"start":{"row":46,"column":0},"end":{"row":46,"column":24}},"text":"    assert is_logged_in?"}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":48,"column":0},"end":{"row":49,"column":0}},"nl":"\n","lines":["#    assert_template 'users/show'"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":48,"column":0},"end":{"row":49,"column":0}},"nl":"\n","lines":[" #   assert is_logged_in?"]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":48,"column":0},"end":{"row":49,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeLines","range":{"start":{"row":48,"column":0},"end":{"row":49,"column":0}},"nl":"\n","lines":["  end"]}]}]]},"ace":{"folds":[],"scrolltop":417.5,"scrollleft":0,"selection":{"start":{"row":48,"column":0},"end":{"row":48,"column":0},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":{"row":28,"state":"start","mode":"ace/mode/ruby"}},"timestamp":1413837720894,"hash":"906253b4b0e94e1e7b1ba0396aff9fac131bbc16"}